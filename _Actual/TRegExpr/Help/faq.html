<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<HTML xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<HEAD>
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso-8859-1">
  <meta name="Content-Language" content="english">
  <TITLE>FAQ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Regular Expressions,perl,regexp,Delphi,Pascal,FreePascal,Kylix,Libraries,VCL,CLX,Tools,files utils</TITLE>
  <!--  TRegExpr regular expressions (r.e. RegExpr regexp tregexpr), egrep perl unix; delphi pascal FreePascal Kylix freeware component Andrey Sorokin -->
  <meta name="home_url" content="http://RegExpStudio.com/">
  <meta name="GENERATOR" content="Help & Manual">
  <LINK REL="stylesheet" HREF="../../styles/default.css" TYPE="text/css">
  <meta name="description" content=" delphi pascal FreePascal Kylix freeware components: regular expressions (r.e. RegExpr regexp tregexpr), egrep perl unix; Andrey Sorokin">
  <meta name="abstract" content=" TRegExpr regular expressions (r.e. RegExpr regexp tregexpr), egrep perl unix; Andrey Sorokin">
  <meta name="keywords" content=" TRegExpr regular expressions (r.e. RegExpr regexp tregexpr), egrep perl unix; delphi pascal FreePascal Kylix freeware component Andrey Sorokin">
  <META NAME="distribution" CONTENT="world">
  <meta name="audience" content="all">
  <meta name="robots" content="index,all">
  <meta name="revisit" content="30 days">
  <meta name="revisit-after" content="30 days">
  <meta name="site-created" content="01-01-2004">
  <META NAME="author" CONTENT="RegExpStudio.com, Andrey V. Sorokin, Saint Petersburg, Russia.">
  <META NAME="copyright" CONTENT="Copyright &copy; RegExpStudio.com, Andrey V. Sorokin, Saint Petersburg, Russia. All rights reserved">
</HEAD>
  
<BODY bgcolor=#FFFFFF leftmargin="0" topmargin="0" marginwidth="0" 
      marginheight="0">

<TABLE bgColor=#0054a6 cellspacing="2" cellpadding="2" border="0" 
       width="780">
<TR>
  <TD align="left"><div class="MainTitle"><a href="http://RegExpStudio.com"
   title="" class="MainTitle"><span class="MainTitle">RegExp Studio</span></a>
<br>TRegExpr v.0.952 - Delphi Regular Expressions
<br><img src="../../imgs/0.gif" width="1" height="15" alt=""><br>
</div></TD>
  <TD align="right"><A class=LangSwitch
   href="../../../BG/TRegExpr/Help/About.html">Bulgarian</A><BR>
  <DIV class=LangSwitch>English<BR></DIV>
  <A class=LangSwitch
   href="../../../FR/TRegExpr/Help/About.html">French</A><BR>
  <A class=LangSwitch
   href="../../../DE/TRegExpr/Help/About.html">German</A><BR>
  <A class=LangSwitch
   href="../../../RU/TRegExpr/Help/About.html">Russian</A><BR>
  <A class=LangSwitch
   href="../../../ES/TRegExpr/Help/About.html">Spanish</A></TD>
</TR>
</TABLE>

<TABLE height=1 cellSpacing=0 cellPadding=0 width=780 bgColor="white" border=0>
<TR><TD><IMG height=1 alt="" src="../../imgs/0.gif" width=1 border=0></TD></TR>
</TABLE>


<TABLE width="780" height=24 cellspacing="2" cellpadding="2" border="0"
  bgColor=#0054a6>
<TR>
  <TD><img src="../../imgs/HomeSmall.gif" alt="About TRegExpr" height=16 width=16 border=0></TD>
  <TD><A class=top_menu href="About.html">About</A></TD>

  <TD width=5><IMG height=1 alt="" src="../../imgs/0.gif" width=5 border=0></TD>
  <TD><img src="../../imgs/WhatsNewSmall.gif" alt="What's new" height=16 width=16 border=0></TD>
  <TD><A class=top_menu href="Whats_new.html">What's&nbsp;new</A></TD>

  <TD width=5><IMG height=1 alt="" src="../../imgs/0.gif" width=5 border=0></TD>
  <TD><img src="../../imgs/DownloadsSmall.gif" alt="Installation" height=16 width=16 border=0></TD>
  <TD><A class=top_menu href="Installation.html">Installation</A></TD>

  <TD width=5><IMG height=1 alt="" src="../../imgs/0.gif" width=5 border=0></TD>
  <TD><img src="../../imgs/RegExpSyntaxSmall.gif" alt="Regular Expressions Syntax" height=16 width=16 border=0></TD>
  <TD><A class=top_menu href="RegExp_Syntax.html">Syntax</A></TD>

  <TD width=5><IMG height=1 alt="" src="../../imgs/0.gif" width=5 border=0></TD>
  <TD><img src="../../imgs/TRegExprInterfaceSmall.gif" alt="What's new" height=16 width=16 border=0></TD>
  <TD><A class=top_menu href="TRegExpr_Interface.html">Interface</A></TD>

  <TD width=5><IMG height=1 alt="" src="../../imgs/0.gif" width=5 border=0></TD>
  <TD><img src="../../imgs/FAQSmall.gif" alt="What's new" height=16 width=16 border=0></TD>
  <TD><A class=top_menu href="FAQ.html">FAQ</A></TD>

  <TD width=5><IMG height=1 alt="" src="../../imgs/0.gif" width=5 border=0></TD>
  <TD><img src="../../imgs/DemosSmall.gif" alt="TRegExpr usage demos" height=16 width=16 border=0></TD>
  <TD><A class=top_menu href="Demos.html">Demos</A></TD>

  <TD width=5><IMG height=1 alt="" src="../../imgs/0.gif" width=5 border=0></TD>
  <TD><IMG src="../../imgs/AnSoHomePageSmall.gif" alt="AnSo@Web" height=16 width=18 border=0></TD>
  <TD><A class=top_menu href="Author.html">Author</A></TD>

  <TD width="100%">&nbsp;</TD>
</TR>
</TABLE>



<TABLE cellSpacing=14 cellPadding=0 width=779 bgColor="white" border=0>
<TR>
  <TD vAlign=top width=769 height="100%">


<span style="font-family:Arial; font-size:12pt; color:#000000"><span style="font-family:Arial; font-size:12pt; color:#0000FF"><b>FAQ</b></span><span style="font-family:Arial; font-size:14pt; color:#000000"><span style="font-family:Arial; font-size:14pt; color:#0000FF"><b>
<br>
</b></span></span></span></span></span></span>


<span style="font-family:Arial; font-size:10pt; color:#000000">Q.
<br>
<b>I found a terrible bug: TRegExpr raises Access Violation exception!</b>
<br>
A.
<br>
You must create the object before usage. So, after You <b>declared</b> something like r : TRegExpr, do not forget to <b>create the object instance</b>: r := TRegExpr.Create. Please!!! Read something about Delphi language. I recieve such a questions at least every week. I don't have time to learn how to work with objects and so on.
<br>

<br>
Q.
<br>
<b>How can I use TRegExpr with Borland C++ Builder?</b>
<br>
I have a problem since no header file (.h or .hpp) is available.
<br>
A.
<br>
<table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:Arial; font-size:10pt; color:#000000">Add RegExpr.pas to bcb project.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:Arial; font-size:10pt; color:#000000">Compile project. This generates the header file RegExpr.hpp.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:Arial; font-size:10pt; color:#000000">Now one can write code which uses the RegExpr unit.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:Arial; font-size:10pt; color:#000000">Don't forget to add  #include "RegExpr.hpp" where needed.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="14"><span style="font-family:Arial; font-size:10pt; color:#000000"><font face="Symbol" size="2" color="#000000">&#183;</font></span></td><td><span style="font-family:Arial; font-size:10pt; color:#000000">Don't forget to replace all '\' in regular expressions with '\\' or redefined <a href=tregexpr_interface.html#EscChar>EscChar</a> const.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td><span style="font-family:Arial; font-size:10pt; color:#000000"></span></td><td></td></tr></table><span style="font-family:Arial; font-size:10pt; color:#000000">
<br>
<a name="cppbescchar"></a>Q.
<br>
<b>Why many r.e. (i</b><b>ncluding r.e. from TRegExpr help and demo</b><b>)</b><b> work wrong in Borland C++ Builder?
<br>
</b>A.
<br>
Please, reread answer to previous question ;) Symbol '\' has special treting in C++, so You have to 'escape' it (as described in prev.answer). But if You don't like r.e. like '\\w+\\\\\\w+\\.\\w+' You can redefine constant EscChar (RegExpr.pas), for example EscChar='/' - then r.e. will be '/w+\/w+/./w+', sligtly unusual but more readable..
<br>

<br>
Q.
<br>
<b>Why does TRegExpr return more then one line?</b>
<br>
For example, r.e. &lt;font .*&gt; returns the first &lt;font, then <b>the rest of the file</b><b> </b>including last &lt;/html&gt;...
<br>
A.
<br>
For backward compatibility, <a href=regexp_syntax.html#modifier_s>modifier /s</a> is 'On' by default.
<br>
Switch it Off and '.' will match any but <a href=regexp_syntax.html#syntax_line_separators>Line separators</a> - as you wish.
<br>
BTW I suggest you '&lt;font ([^\n&gt;]*)&gt;', in Match[1] will be URL.
<br>

<br>
Q.
<br>
<b>Why does TRegExpr return more then I expect?</b>
<br>
For example r.e. '&lt;p&gt;(.+)&lt;/p&gt;' applyed to string '&lt;p&gt;a&lt;/p&gt;&lt;p&gt;b&lt;/p&gt;' returns 'a&lt;/p&gt;&lt;p&gt;b' but not 'a' as I expected.
<br>
A.
<br>
By default all operators works in 'greedy' mode, so they match as more as it possible.
<br>
If You want 'non-greedy' mode You can use 'non-greedy' operators like '+?' and so on (new in v. 0.940) or switch all operators into 'non-greedy' mode with help of modifier 'g' (use appropriate TRegExpr properties or constractions like '?(-g)' in r.e.).
<br>

<br>
Q.
<br>
<b>How to parse sources like HTML with help of TRegExpr</b>
<br>
A.
<br>
Sorry folks, but it's nearly impossible!
<br>
Of course, You can easily use TRegExpr for extracting some information from HTML, as shown in my examples, but if You want accurate parsing You have to use real parser, not r.e.!
<br>
You can read full explanation in Tom Christiansen and Nathan Torkington 'Perl Cookbook', for example. In short - there are many constractions that can be easy parsed by real parser but cannot at all by r.e., and real parser is MUCH faster do the parsing, because r.e. doesn't simply scan input stream, it performes optimization search that can take a lot of time.
<br>

<br>
Q.
<br>
<b>Is there a way to get multiple matchs of a pattern on TRegExpr?</b>
<br>
A.
<br>
You can make loop and iterate match by match with ExecNext method.
<br>
It cannot be done more easily becase of Dalphi isn't interpretator as Perl (and it's benefit - interpretators work very slow!).
<br>
If You want some example, please take a look at TRegExpr.Replace method implementation. or at the examples in <a href=hyperlinksdecorator.html>HyperLinksDecorator.pas</a>
<br>

<br>
Q.
<br>
<b>I am checking user input. Why does TRegExpr return 'True' for wrong input strings?</b>
<br>
A.
<br>
In many cases TRegExpr users forget that regular expression is for SEARCH in input string. So, if You want to make user to enter only 4 digits and using for it '\d{4,4}' expression, You can skip wrong user input like '12345' or 'any letters 1234 and anything else'. You have to add checking for line start and line end to ensure there are not anything else around: '^\d{4,4}$'.
<br>

<br>
<a name="nongreedyoptimization"></a>Q.
<br>
<b>Why does non-greedy iterators sometimes work as in greedy mode?</b>
<br>
For example, the r.e. 'a+?,b+?' applied to string 'aaa,bbb' matches 'aaa,b', but should it not match 'a,b' because of non-greediness of first iterator?
<br>
A.
<br>
This is the limitation of used by TRegExpr (and Perl's and many Unix's regular expressions) mathematics - r.e. performe only 'simple' search optimization, and do not try to do <b>the best optimization</b>. In some cases it's bad, but in common it's rather advantage then limitation - because of perfomance and predictability reasons.
<br>
The main rule - r.e. first of all try to match from current place and only if it's completely impossible move forward by one char and try again from that place. So, if You use 'a,b+?' it match 'a,b', but in case of 'a+?,b+?' it's '<b>not recommended</b>' (due to non-greediness) <b>but possible</b> to match more then one 'a', so TRegExpr do it and at last obtaines correct (but non optimum) match. TRegExpr like Perl's or Unix's r.e. doesn't attempt to move forward and check - would it be 'better' match. Moreover, it cannot be compared in terms 'more or less good match' at all..
<br>
Please, read '<a href=regexp_syntax.html#mechanism>Syntax</a>' section of help for more explanation.
<br>
</span></span></span>

  </TD>
  <TD vAlign=top align=left bgColor="white" height="100%"
       width=10>
  </TD>
</TR>
</TABLE><BR><BR>

<TABLE height=1 cellSpacing=0 cellPadding=0 width=780 bgColor=#0054a6 
       border=0>
<TR>
  <TD><IMG height=1 alt="" src="../../imgs/0.gif" width=1 border=0></TD>
</TR>
</TABLE>

<TABLE height=70 cellSpacing=2 cellPadding=0 width=779 bgColor="white"
       border=0>
<TR>
  <TD align=right width=2><IMG src="../../imgs/0.gif" width=2 height=1 border=0></TD>
  <TD vAlign=top align=left width="100%"><P class=pageauthor><I>&copy;&nbsp;<A 
      class=pageauthor href="http://RegExpStudio.com/">2004 Andrey V. Sorokin</A></I>,
      Saint Petersburg, Russia
      <BR><A class=pageauthor href="mailto:anso@mail.ru">anso@mail.ru</A>
      <BR><A class=pageauthor href="http://RegExpStudio.com/">RegExpStudio.com</A></P></TD>
  <TD vAlign=top align=right width=468><A href="http://www.helpandmanual.com"
      target="_blank"><img src="hmad468x60.gif" width="468" height="60"
      border="0" alt="Help&Manual - the best help authoring tool!"></A></TD>
  <TD align=right width=4><IMG src="../imgs/0.gif" width=4 height=1 border=0></TD>
</TR>
</TABLE><BR>

</body>
</html>
