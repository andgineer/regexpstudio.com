<html><head><meta name="generator" content="Help & Manual 2.6.3"><title>Wie funktioniert's?</title></head>
<body background="niceblue.gif" bgcolor="#FFFFFF">
<small><table width="100%"><tr><td align="right"><a href="tregexpr_installation.htm"><img src="1arrow4.gif" border="0"></a><a href="tregexpr_syntax.htm"><img src="1arrow5.gif" border="0"></a></td></tr></small><table width="100%" border="0" cellspacing="0" cellpadding="3" bgcolor="#C6E7FF"><tr><td align="left">
<font face="Arial" size="4" color="#000000"><font face="Arial" size="4" color="#0000FF"><b>Wie funktioniert's?</b></font><font face="Arial" size="5" color="#000000"><font face="Arial" size="5" color="#0000FF"><b>
<br>
</b></font></font></font>

</td></tr></table><br>

<font face="Arial" size="4" color="#000000">
<br>
<font face="Arial" size="4" color="#0000FF"><b>Einfache Beispiele</b></font><font face="Arial" size="4" color="#000000">
<br>

<br>
</font><font face="Arial" size="3" color="#000000">Falls Du nicht mit Regul�ren Ausdr�cken bekannt bist, dann k�nntest Du etwas unter dem Abschnitt <a href="tregexpr_syntax.htm">Syntax</a> dazulernen oder schaue in ein gutes Perl oder Unix Buch.</font><font face="Arial" size="4" color="#000000">
<br>

<br>
</font><font face="Arial" size="3" color="#000000"><b>Globale Routinen verwenden</b>
<br>
 Das ist zwar einfach, aber nicht besonders flexibel oder effektiv.</font><font face="Arial" size="4" color="#000000">
<br>

<br>
<table border="0" cellpadding="0" cellspacing="0"><tr valign="TOP"><td width="12"></td><td><font face="Arial" size="4" color="#000000"></font></font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#800000"><b>ExecRegExpr ('\d{3}-(\d{2}-\d{2}|\d{4})', 'Phone: 555-1234')</b></font></font><font face="Arial" size="3" color="#000000">;</font><font face="Arial" size="4" color="#000000">
&nbsp;<br>
</font></td></tr><tr valign="top"><td></td><td><font face="Arial" size="4" color="#000000"></font></td></tr></table><font face="Arial" size="4" color="#000000"></font><font face="Arial" size="3" color="#000000">   R�ckgabewert: True</font><font face="Arial" size="4" color="#000000">
<br>
<table border="0" cellpadding="0" cellspacing="0"><tr valign="TOP"><td width="12"></td><td><font face="Arial" size="4" color="#000000"></font></font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#800000"><b>ExecRegExpr ('^\d{3}-(\d{2}-\d{2}|\d{4})', 'Phone: 555-1234')</b></font></font><font face="Arial" size="3" color="#000000">;</font><font face="Arial" size="4" color="#000000">
&nbsp;<br>
</font></td></tr><tr valign="top"><td></td><td><font face="Arial" size="4" color="#000000"></font></td></tr></table><font face="Arial" size="4" color="#000000"></font><font face="Arial" size="3" color="#000000">   R�ckgabewert: False, weil es einige Zeichen vor der Telefonnummer hat und weil wir das Metazeichen '^' benutzen (Bedeutung von '^': BeginningOfLine)</font><font face="Arial" size="4" color="#000000">
<br>
<table border="0" cellpadding="0" cellspacing="0"><tr valign="TOP"><td width="12"></td><td><font face="Arial" size="4" color="#000000"></font></font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#800000"><b>ReplaceRegExpr ('product', 'Take a look at product. product is the best !', 'TRegExpr');</b></font></font><font face="Arial" size="4" color="#000000">
&nbsp;<br>
</font></td></tr><tr valign="top"><td></td><td><font face="Arial" size="4" color="#000000"></font></td></tr></table><font face="Arial" size="4" color="#000000"></font><font face="Arial" size="3" color="#000000">   R�ckgabewert: 'Take a look at TRegExpr. TRegExpr is the best !'; ;)</font><font face="Arial" size="4" color="#000000">
<br>

<br>
</font><font face="Arial" size="3" color="#000000"><b>Die TRegExpr-Klasse verwenden</b>
<br>
 Damit hast Du alle M�glichkeiten der Bibliothek zur Verf�gung.
<br>

<br>
// Diese einfache Funktion extrahiert alle E-Mail-Adressen aus dem InputString
<br>
// und legt eine Liste dieser Adressen in den R�ckgabewert</font><font face="Arial" size="4" color="#000000">
<br>
</font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#800000"><b>function ExtractEmails (const AInputString : string) : string;
<br>
const
<br>
&nbsp;&nbsp;&nbsp;EmailRE = '[_a-zA-Z\d\-\.]+@[_a-zA-Z\d\-]+(\.[_a-zA-Z\d\-]+)+'
<br>
var
<br>
&nbsp;&nbsp;&nbsp;r : TRegExpr;
<br>
begin
<br>
&nbsp;&nbsp;&nbsp;Result := '';
<br>
&nbsp;&nbsp;&nbsp;r := TRegExpr.Create;</b></font></font><font face="Arial" size="3" color="#000000"> // Erzeuge Objekt</font><font face="Arial" size="4" color="#000000"><font face="Arial" size="4" color="#800000"><b>
<br>
</b></font></font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#800000"><b>&nbsp;&nbsp;&nbsp;try</b></font></font><font face="Arial" size="3" color="#000000"> </font><font face="Arial" size="4" color="#000000">// </font><font face="Arial" size="3" color="#000000">garantiere Speicherfreigabe</font><font face="Arial" size="4" color="#000000"><font face="Arial" size="4" color="#800000"><b>
<br>
</b></font></font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#800000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.Expression := EmailRE;</b></font></font><font face="Arial" size="4" color="#000000"><font face="Arial" size="4" color="#800000"><b>
<br>
</b></font></font><font face="Arial" size="3" color="#000000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// der R.A. wird automatisch in die interne Struktur �bersetzt
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// innerhalb der Zuweisung an diese Eigenschaft</font><font face="Arial" size="4" color="#000000">
<br>
</font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#800000"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if r.Exec (AInputString) then
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REPEAT
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result := Result + r.Match [0] + ', ';
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UNTIL not r.ExecNext;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finally r.Free;
<br>
&nbsp;&nbsp;&nbsp;end;
<br>
end;
<br>
begin
<br>
&nbsp;&nbsp;&nbsp;ExctractEmails ('My e-mails is anso@mail.ru and anso@usa.net');</b></font></font><font face="Arial" size="4" color="#000000"><font face="Arial" size="4" color="#800000"><b>
<br>
</b></font></font><font face="Arial" size="3" color="#000000">&nbsp;&nbsp;&nbsp;// gibt zur�ck: 'anso@mail.ru, anso@usa.net, '</font><font face="Arial" size="4" color="#000000">
<br>
</font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#800000"><b>end.</b></font></font><font face="Arial" size="4" color="#000000"><font face="Arial" size="4" color="#800000"><b>
<br>
</b></font></font><font face="Arial" size="3" color="#000000">(* Beachte: Die �bersetzung eines Regul�ren Ausdruckes beansprucht etwas Zeit w�hrend der Zuweisung. Wenn Du also diese Funktion �fters ausf�hrst, dann erzeugst Du damit unn�tigen Aufwand. Wenn der Regul�re Ausdruck also konstant bleibt, dann kannst Du dies betr�chtlich optimieren, indem Du diese Zuweisung nur w�hrend der Initialisierungsphase Deines Projektes ausf�hrst. *)
<br>
</font><font face="Arial" size="4" color="#000000">
<br>

<br>
</font><font face="Arial" size="3" color="#000000">
<br>
// Dieses einfache Beispie extrahiert Telefonnummern und
<br>
// zerlegt sie in Teile (Stadt- und Landesvorwahl, interne Nummer).
<br>
// Danach ersetzt es diese Teile im Template.</font><font face="Arial" size="4" color="#000000">
<br>
</font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#800000"><b>function ParsePhone (const AInputString, ATemplate : string) : string;
<br>
const
<br>
&nbsp;&nbsp;&nbsp;IntPhoneRE = '(\+\d *)?(\(\d+\) *)?\d+(-\d*)*';
<br>
var
<br>
&nbsp;&nbsp;&nbsp;r : TRegExpr;
<br>
begin
<br>
&nbsp;&nbsp;&nbsp;r := TRegExpr.Create;
<br>
&nbsp;&nbsp;&nbsp;try
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.Expression := IntPhoneRE;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if r.Exec (AInputString)
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then Result := r.Substitute (ATemplate)
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else Result := '';
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finally r.Free;
<br>
&nbsp;&nbsp;&nbsp;end;
<br>
end;
<br>
begin
<br>
&nbsp;&nbsp;&nbsp;ParsePhone ('Phone of AlkorSoft (project PayCash) is +7(812) 329-44-69',
<br>
&nbsp;&nbsp;&nbsp;'Zone code $1, city code $2. Whole phone number is $&amp;.');
<br>
</b></font></font><font face="Arial" size="3" color="#000000">&nbsp;&nbsp;&nbsp;// R�ckgabe: 'Zone code +7, city code (812) . Whole phone number is +7(812) 329-44-69.'</font><font face="Arial" size="4" color="#000000">
<br>
</font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#800000"><b>end.</b></font></font><font face="Arial" size="4" color="#000000"><font face="Arial" size="4" color="#800000"><b>
<br>

<br>

<br>
</b></font></font><font face="Arial" size="4" color="#000000">
<br>
</font><font face="Arial" size="3" color="#000000"><font face="Arial" size="3" color="#0000FF"><b>Etwas komplexere Beispiele</b></font></font><font face="Arial" size="3" color="#000000">
<br>

<br>
Du findest komplexere Beispiele f�r den Gebrauch von TRegExpr in den Projekten <a href="tregexpr_testrexp.htm">TestRExp.dpr</a> und <a href="tregexpr_decorator.htm">HyperLinkDecorator.pas</a>.
<br>

<br>
Beachte bitte auch meine kleinen Artikel auf <a href="http://www.delphi3000.com/member.asp?ID=1300" TARGET="_top">Delphi3000.com</A> (Englisch) und <a href="http://delphi.vitpc.com/mastering/strings_birds_eye_view.htm" TARGET="_top">Delphi Kingdom</A> (Russisch).
<br>

<br>

<br>
<font face="Arial" size="3" color="#0000FF"><b>Ausf�hrliche Erkl�rung</b></font></font><font face="Arial" size="3" color="#000000">
<br>

<br>
Bitte beachte dazu die TRegExpr-Interface-<a href="tregexpr_interface.htm">Beschreibung</a>.
<br>
</font><font face="Arial" size="4" color="#000000">
<br>
</font></font>

<small><table width="100%"><tr><td align="right"><a href="tregexpr_installation.htm"><img src="1arrow4.gif" border="0"></a><a href="tregexpr_syntax.htm"><img src="1arrow5.gif" border="0"></a></td></tr></small>

<script>     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){                 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),             m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)     })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');      ga('create', 'UA-90368520-1', 'auto');     ga('send', 'pageview');  </script>

</body></html>
