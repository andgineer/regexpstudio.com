---
layout: page
title: Regular expressions syntax
lang: ru
locale: ru_RU
ref: syntax
permalink: /regexp_syntax_ru/
---


Регулярные выражения используются для описания шаблонов языка Perl, синтаксис заимствован из процедуры regexp в Юниксе
(см.также свободно распространяемые процедуры V8 Генри Спенсера (Henry Spencer).

#### Примеры регулярных выражений:

##### Вещественное число (например '13.88e-4', '-7E2'):
    ([+\-]?\d+(\.\d+)?([eE][+\-]?\d+)?)



##### Телефонный номер (например `+7(812) 555-5555`, `(20)555-55-55`, `555-5555`):
    ((\+\d *)?(\(\d+\) *)?\d+(-\d*)*)



##### e-mail адрес (например `anso@mail.ru`):
    ([_a-zA-Z\d\-\.]+@[_a-zA-Z\d\-]+(\.[_a-zA-Z\d\-]+)+)



Интернет URL (например 'http://www.paycash.ru', 'http://www.rt.spb.ru', 'ftp://198.207.0.1\default.htm'):
    ([Ff][Tt][Pp]|[Hh][Tt][Tt][Pp])://([_a-zA-Z\d\-]+(\.[_a-zA-Z\d\-]+))((/[ _a-zA-Z\d\-\\\.]+)+)*



В шаблонах используются следующие метасимволы (символы обозначающие
группы других символов) часто называемых egrep - стандартом:


*   \   - считать следующий метасимвол как обычный символ.
*   ^   - начало строки
*   .   - один произвольный символ (кроме конца строки).
*   $   - конец строки
*   |   - альтернатива (или)
*   ()   - группировка
*   []   - один символ из указанного набора

Нижеследующие расширение вообще-то достаточно прозрачны при использовании и даже могут быть незамечены пользователем. Смысл в том чтобы не отвлекаться каждый раз на несправедливо обиженную фирмой microsoft букву "ё".
*   [а-я]   - все маленькие русские символы в Win1251 (например [а-я0-9] - любой русский символ в нижнем регистре или цифра)
*   [А-Я]   - все большие русские символы в Win1251
*   [а-Я]   - все русские символы в Win1251

Все внесенные автором TRegExpr расширения синтаксиса можно отключать,

Метасимволы имеют модификаторы (пишутся после метасимвола):
*   *   - повторяется 0 или большее число раз
*   +   - повторяется 1 или большее число раз
*   ?   - 1 или 0 раз
*   {n}   - точно n раз
*   {n,}   - по меньшей мере раз
*   {n,m}   - не менше n, но и не больше m

Во все других случаях фигурные скобки считаются обычными (регулярными)
символами.

Таким образом '*' эквивалентна {0,} , '+' - {1,}
и '?' - {0,1}. n и m не могут быть больше 65536.


Шаблоны работают так же как и двойные кавычки поэтому в них можно
использовать `\` - символы (бакслэш-символы):
*   \t   - символ табуляции (TAB, HT)
*   \n   - новая строка (LF)
*   \r   - перевод каретки (CR)
*   \e   - escape (ESC)
*   \x1A   - шестнадцатеричная
*   \f   - новая страница (FF)
*   \a   - звонок (BEL)
*   \b   - забой (BS)


Дополнительно добавлены следующие метасимволы:
*   \w   - алфавитно-цифровой или '_' символ
*   \W   - не алфавитно-цифровой или '_' символ
*   \d   - одна цифра
*   \D   - одна не цифра
*   \s   - пробел (т.е. то же что и [ \t\n\r\f])
*   \S   - не пробел


Обратите внимание что все это "один" символ. Для обозначения последовательности
применяйте модификаторы. Так:
*   \w+   - слово
*   \d+   - целое число
*   [+-]?\d+   - целое со знаком
*   [+-]?\d+\.?\d*   - число с точкой

Если внутри шаблона применяются вложенные выражения (они заключаются в круглые скобки)
то номер подстроки соответствующего подвыражения в TRegExpr.Substitute обозначается как '\цифра'.


Правила регулярного выражения. (regex)
1. Любой символ обозначает себя самого если это не метасимвол.
Если вам нужно отменить действие метасимвола то поставьте
перед ним '\'.
2. Строка символов обозначает строку этих символов.
3. Множество возможных символов (класс) заключается в квадратные
скобки '[]' это значит что в данном месте может стоять один
из указанных в скобках символ. Если первый символ в скобках
это '^' - значит не один из указанных символов не может
стоять в данном месте выражения. Внутри класса можно употреблять
символ '-' обозначающий диаппазон символов. Например a-z
один из малых букв латинского алфавита, 0-9 - цифра и т.д.

4. Все символы, включая специальные можно обозначать с
помощью '\' как в языке С.

5. Альтернативные последовательности разделяются символом '|'
Заметьте что внутри квадратных скобок это обычный символ.
6. Внутри регулярного выражения можно указыват "подшаблоны"
заключая их в крунлые скобки и ссылаться на них как '\номер'
Первая скобка обозначается как '\1'.




